<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    <link rel="stylesheet" type="text/css" href="{{ '/custom-styles.css?v=' | append: site.github.build_revision | relative_url }}">
    <link rel="shortcut icon" href="/site-images/docs-logo-sm.png">

{% seo %}
  </head>

  <body class="{{ page.body }} dark">

    <div id="theme"></div>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="{{ site.github.repository_url }}">View on GitHub</a>

          <div class="flex">
            <div>
              <a href="/"><img src="/site-images/docs-logo-sm.png" class="logo" alt="Logo"></a>
            </div>
            <div>
              <h1 id="project_title"><a href="/" style="color:white!important">{{ site.title | default: site.github.repository_name }}</a></h1>
              <h2 id="project_tagline">{{ site.description | default: site.github.project_tagline }}</h2>
            </div>
          </div>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        {{ content }}
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        {% include footer.html %}
      </footer>
    </div>

    <div id="lightbox" aria-hidden="true">
      <img src="">
    </div>

    {% if site.google_analytics %}
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', '{{ site.google_analytics }}', 'auto');
        ga('send', 'pageview');
      </script>
    {% endif %}
    <script src="https://unpkg.com/konami"></script>
    <script>
      // konami
      const easterEgg = new Konami(() => window.location="https://epicmickey.fandom.com/wiki/Abner");

      // lightbox
      var images = document.querySelectorAll(".article-image");
      var lightbox = document.getElementById("lightbox");
      var lightboxImage = document.querySelector("#lightbox img");
      images.forEach(function (el) {
        return el.addEventListener("click", function (event) {
          lightboxImage.src = el.src;
          lightbox.classList.add("visible");
        });
      });

      lightbox.addEventListener("click", function (event) {
        lightbox.classList.remove("visible");
      });

      // dark mode
      var dark = false;

      if (localStorage.getItem("dark") === null && (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) || localStorage.getItem("dark") === "true") {
        dark = true;
        document.body.classList.add("dark");
      } else {
        dark = false;
        document.body.classList.remove("dark");
      }

      document.getElementById("theme").addEventListener("click", function() {
        document.body.classList.toggle("dark");
        dark = !dark;
        localStorage.setItem("dark", dark);
      });
    </script>
  </body>
</html>
